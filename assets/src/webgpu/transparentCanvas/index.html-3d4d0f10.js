import"../../../modulepreload-polyfill-3cfb730f.js";import{m as t,v as c}from"../../../wgpu-matrix.module-82499b8f.js";import{W as v,r as P}from"../../../Buffer-23ffa079.js";import{c as M,a as d,b as y,d as m,e as S}from"../../../cube-9c7624af.js";import{b as O}from"../../../basic.vert-5cd75182.js";import{v as C}from"../../../vertexPositionColor.frag-aa0bc14e.js";const W=async e=>{const p=await new v().init(),r=window.devicePixelRatio;e.width=e.clientWidth*r,e.height=e.clientHeight*r;const l={canvasId:e.id,configuration:{alphaMode:"premultiplied"}},u={position:{data:d,format:"float32x4",offset:y,arrayStride:m},uv:{data:d,format:"float32x2",offset:S,arrayStride:m}},f={vertex:{code:O},fragment:{code:C},primitive:{topology:"triangle-list",cullFace:"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less"}},h={size:[e.width,e.height],format:"depth24plus"},i={uniforms:{modelViewProjectionMatrix:void 0}},x={colorAttachments:[{view:{texture:{context:l}},clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:{texture:h},depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}},w=e.width/e.height,b=t.perspective(2*Math.PI/5,w,1,100),a=t.create();function g(){const o=t.identity();t.translate(o,c.fromValues(0,0,-4),o);const n=Date.now()/1e3;return t.rotate(o,c.fromValues(Math.sin(n),Math.cos(n),0),1,o),t.multiply(b,o,a),a}const V={commandEncoders:[{passEncoders:[{descriptor:x,renderPassObjects:[{pipeline:f,bindingResources:i,vertices:u,draw:{__type__:"DrawVertex",vertexCount:M}}]}]}]};function s(){P(i.uniforms).modelViewProjectionMatrix=g().slice(),p.submit(V),requestAnimationFrame(s)}requestAnimationFrame(s)},j=document.getElementById("webgpu");W(j);
