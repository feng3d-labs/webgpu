import"../../../modulepreload-polyfill-3cfb730f.js";import{W as b,r as h}from"../../../Buffer-5212487c.js";import{m as r,v as c}from"../../../wgpu-matrix.module-82499b8f.js";import{a as m,b as V,d,e as v,c as P}from"../../../cube-9c7624af.js";import{b as g}from"../../../basic.vert-5cd75182.js";import{v as y}from"../../../vertexPositionColor.frag-aa0bc14e.js";const M=async e=>{const i=window.devicePixelRatio||1;e.width=e.clientWidth*i,e.height=e.clientHeight*i;const u=await new b().init(),l={colorAttachments:[{view:{texture:{context:{canvasId:e.id}}},clearValue:[.5,.5,.5,1]}],depthStencilAttachment:{depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}},a={modelViewProjectionMatrix:new Float32Array(16)},p={pipeline:{vertex:{code:g},fragment:{code:y},primitive:{cullFace:"back"}},vertices:{position:{data:m,format:"float32x4",offset:V,arrayStride:d},uv:{data:m,format:"float32x2",offset:v,arrayStride:d}},draw:{__type__:"DrawVertex",vertexCount:P},bindingResources:{uniforms:a}},f=e.width/e.height,x=r.perspective(2*Math.PI/5,f,1,100),n=r.create();function w(){const t=r.identity();r.translate(t,c.fromValues(0,0,-4),t);const o=Date.now()/1e3;return r.rotate(t,c.fromValues(Math.sin(o),Math.cos(o),0),1,t),r.multiply(x,t,n),n}function s(){const t=w();h(a).modelViewProjectionMatrix=t.subarray();const o={commandEncoders:[{passEncoders:[{descriptor:l,renderPassObjects:[p]}]}]};u.submit(o),requestAnimationFrame(s)}requestAnimationFrame(s)},S=document.getElementById("webgpu");M(S);
